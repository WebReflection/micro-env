[].every||(Array.prototype.every=function(e,t){for(var n=0;n<this.length&&e.call(t,this[n],n,this);n++);return n===this.length});[].forEach||(Array.prototype.forEach=function(e,t){for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)});[].indexOf||(Array.prototype.indexOf=function(e){for(var t=this.length;t--&&this[t]!==e;);return t});[].map||(Array.prototype.map=function(e,t){for(var n=[],r=0;r<this.length;r++)n[r]=e.call(t,this[r],r,this);return n});[].some||(Array.prototype.some=function(e,t){for(var n=0;n<this.length;n++)if(e.call(t,this[n],n,this))break;return n<this.length});Function.bind||(Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e,arguments)}});(function(e){function t(){t[e]=null}Function[e].inherit=function(n){return t[e]=n[e],(this[e]=new t).constructor=this}})("prototype");Function.prototype.setPrototype=function(e){var t=this.prototype,n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return this};Object.prototype.emit=function(e){for(var t=this._h,n=t?t["_"+e]:[],r=n.slice.call(arguments,1),i=0,s;i<n.length;s.apply(this,r))s=n[i++]};Object.prototype.off=function(e,t){var n=this._h,r=n&&n["_"+e],i=r&&r.indexOf(t);return~i&&r.splice(i,1),this};Object.prototype.on=function(e,t){var n=this._h||(this._h={}),r=n["_"+e]||(n["_"+e]=[]);return~r.indexOf(t)||r.push(t),this};Object.prototype.once=function(e,t){return this.on(e,function n(){this.off(e,n),t.apply(this,arguments)})};window.HTMLElement||(window.HTMLElement=window.Element||window.Node||function(){});HTMLElement.prototype.emit=function(e,t){var n=document.createEvent("Event");n.initEvent(e,1,1),n.detail=t,this.dispatchEvent(n)};HTMLElement.prototype.off=function(){return this.removeEventListener.apply(this,arguments),this};HTMLElement.prototype.on=function(){return this.addEventListener.apply(this,arguments),this};HTMLElement.prototype.once=function(e,t,n){return this.on(e,function r(){this.off(e,r,!!n),t.apply(this,arguments)},!!n),this};(function(e,t,n){n=e.document,n.on=e.on=t.on,n.off=e.off=t.off,n.emit=e.emit=t.emit})(window,HTMLElement.prototype);